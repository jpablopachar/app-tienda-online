<div class="app-page">
    <div class="app-page__header">
        <h1>Registro de Usuario</h1>
    </div>
    <form
        [formGroup]="form"
        (submit)="register()"
        (keyup.enter)="register()"
        novalidate
        autocomplete="off"
    >
        <div class="app-page__content">
            <app-form-field
                label="Username"
                [required]="true"
                [control]="form.controls['username']"
                [isInline]="false"
            >
                <app-input formControlName="username"></app-input>
            </app-form-field>
            <app-form-field
                label="Nombre"
                [required]="true"
                [control]="form.controls['name']"
                [isInline]="false"
            >
                <app-input formControlName="name"></app-input>
            </app-form-field>
            <app-form-field
                label="Apellido"
                [required]="true"
                [control]="form.controls['lastName']"
                [isInline]="false"
            >
                <app-input formControlName="lastName"></app-input>
            </app-form-field>
            <app-form-field
                label="E-Mail"
                [required]="true"
                [control]="form.controls['email']"
                [isInline]="false"
                [patternError]="regexErrors.email"
            >
                <app-input formControlName="email"></app-input>
            </app-form-field>
            <app-form-field
                label="Password"
                [required]="true"
                [control]="form.controls['password']"
                [isInline]="false"
                [patternError]="regexErrors.password"
            >
                <app-password formControlName="password"></app-password>
            </app-form-field>
            <app-form-field
                label="Repite Password"
                [required]="true"
                [control]="form.controls['passwordRepeat']"
                [isInline]="false"
                [patternError]="regexErrors.password"
            >
                <app-password formControlName="passwordRepeat"></app-password>
            </app-form-field>
            <div class="error" [class.error_active]="form.hasError('repeat')">
                El password no concuerda
            </div>
        </div>
        <div class="app-page__footer">
            <app-button type="submit">Enviar</app-button>
        </div>
    </form>
    @if ($loading()) {
        <app-spinner></app-spinner>
    }
</div>
